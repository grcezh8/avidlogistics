2025-07-30 12:57:06.402 -04:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'PollSite'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-30 12:57:06.444 -04:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'PollSite'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-30 12:57:06.827 -04:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-30 12:57:06.854 -04:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-07-30 12:57:06.857 -04:00 [INF] Database initialized successfully
2025-07-30 12:57:06.865 -04:00 [INF] AVID Logistics Warehouse Management API starting up...
2025-07-30 12:57:06.887 -04:00 [INF] User profile is available. Using 'C:\Users\GraceZhou\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-30 12:57:06.974 -04:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5166: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-07-30 12:57:59.312 -04:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'PollSite'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-30 12:57:59.355 -04:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'PollSite'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-30 12:57:59.844 -04:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-30 12:57:59.932 -04:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-07-30 12:57:59.947 -04:00 [INF] Database initialized successfully
2025-07-30 12:57:59.959 -04:00 [INF] AVID Logistics Warehouse Management API starting up...
2025-07-30 12:57:59.982 -04:00 [INF] User profile is available. Using 'C:\Users\GraceZhou\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-30 12:58:00.070 -04:00 [INF] Now listening on: http://localhost:5166
2025-07-30 12:58:00.077 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-30 12:58:00.079 -04:00 [INF] Hosting environment: Development
2025-07-30 12:58:00.084 -04:00 [INF] Content root path: C:\Users\GraceZhou\Documents\AVIDLogistics\backend\AVIDLogistics.WebApi
2025-07-30 12:58:08.087 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/facilities - null null
2025-07-30 12:58:08.087 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/facilities - null null
2025-07-30 12:58:08.103 -04:00 [WRN] Failed to determine the https port for redirect.
2025-07-30 12:58:08.136 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:08.136 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:08.150 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/facilities - 204 null null 64.7649ms
2025-07-30 12:58:08.150 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/facilities - 204 null null 64.8454ms
2025-07-30 12:58:08.169 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 12:58:08.177 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:08.210 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 12:58:08.225 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 12:58:08.235 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 12:58:08.246 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 12:58:08.250 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 80.6707ms
2025-07-30 12:58:08.255 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/assets - null null
2025-07-30 12:58:08.263 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 12:58:08.265 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:08.268 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:08.269 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/assets - 204 null null 13.9822ms
2025-07-30 12:58:08.274 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 12:58:08.281 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/assets - null null
2025-07-30 12:58:08.284 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 12:58:08.286 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:08.291 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 12:58:08.292 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 12:58:08.297 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 12:58:08.299 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 12:58:08.300 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 37.596ms
2025-07-30 12:58:08.317 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 12:58:08.338 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 12:58:08.362 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/logo192.png - null null
2025-07-30 12:58:08.378 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/logo192.png - 404 0 null 16.3321ms
2025-07-30 12:58:08.391 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5166/logo192.png, Response status code: 404
2025-07-30 12:58:08.676 -04:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 12:58:08.737 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AVIDLogistics.Infrastructure.Data.WarehouseDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method31(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method31(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-07-30 12:58:08.754 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 12:58:08.778 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/assets - null null
2025-07-30 12:58:08.779 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 430.3601ms
2025-07-30 12:58:08.786 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:08.789 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 12:58:08.791 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 12:58:08.802 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 12:58:08.803 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/assets - 500 null application/json; charset=utf-8 522.1564ms
2025-07-30 12:58:08.809 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 12:58:08.815 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 12:58:08.882 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 12:58:08.886 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AVIDLogistics.Infrastructure.Data.WarehouseDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method31(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method31(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-07-30 12:58:08.892 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 12:58:08.895 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 77.3372ms
2025-07-30 12:58:08.897 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 12:58:08.899 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/assets - 500 null application/json; charset=utf-8 120.1432ms
2025-07-30 12:58:46.322 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/auth/profile - null null
2025-07-30 12:58:46.322 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/elections - null null
2025-07-30 12:58:46.323 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/elections - null null
2025-07-30 12:58:46.324 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/auth/profile - null null
2025-07-30 12:58:46.325 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:46.328 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:46.331 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:46.335 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:46.335 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/auth/profile - 204 null null 13.3404ms
2025-07-30 12:58:46.337 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/elections - 204 null null 15.5169ms
2025-07-30 12:58:46.339 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/elections - 204 null null 15.4723ms
2025-07-30 12:58:46.340 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/auth/profile - 204 null null 16.4535ms
2025-07-30 12:58:46.344 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/auth/profile - null null
2025-07-30 12:58:46.352 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/elections - null null
2025-07-30 12:58:46.360 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:46.362 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:46.363 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 12:58:46.363 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 12:58:46.365 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 12:58:46.366 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 12:58:46.368 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AuthController.GetProfile (AVIDLogistics.WebApi)'
2025-07-30 12:58:46.369 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.ElectionsController.GetElections (AVIDLogistics.WebApi)'
2025-07-30 12:58:46.376 -04:00 [INF] Route matched with {action = "GetProfile", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller AVIDLogistics.WebApi.Controllers.AuthController (AVIDLogistics.WebApi).
2025-07-30 12:58:46.377 -04:00 [INF] Route matched with {action = "GetElections", controller = "Elections"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetElections() on controller AVIDLogistics.WebApi.Controllers.ElectionsController (AVIDLogistics.WebApi).
2025-07-30 12:58:46.381 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 12:58:46.388 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AuthController.GetProfile (AVIDLogistics.WebApi) in 9.0523ms
2025-07-30 12:58:46.390 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/auth/profile - null null
2025-07-30 12:58:46.391 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AuthController.GetProfile (AVIDLogistics.WebApi)'
2025-07-30 12:58:46.394 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:46.395 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/auth/profile - 200 null application/json; charset=utf-8 51.6862ms
2025-07-30 12:58:46.397 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 12:58:46.399 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/alerts/missing-seals - null null
2025-07-30 12:58:46.400 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/alerts/overdue-returns - null null
2025-07-30 12:58:46.406 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/alerts/maintenance-needed - null null
2025-07-30 12:58:46.412 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 12:58:46.415 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:46.421 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:46.425 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:46.428 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AuthController.GetProfile (AVIDLogistics.WebApi)'
2025-07-30 12:58:46.430 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/alerts/missing-seals - 204 null null 30.9623ms
2025-07-30 12:58:46.431 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/alerts/overdue-returns - 204 null null 31.2422ms
2025-07-30 12:58:46.433 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/alerts/maintenance-needed - 204 null null 27.0251ms
2025-07-30 12:58:46.436 -04:00 [INF] Route matched with {action = "GetProfile", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller AVIDLogistics.WebApi.Controllers.AuthController (AVIDLogistics.WebApi).
2025-07-30 12:58:46.442 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/alerts/missing-seals - null null
2025-07-30 12:58:46.447 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/alerts/overdue-returns - null null
2025-07-30 12:58:46.451 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/alerts/maintenance-needed - null null
2025-07-30 12:58:46.456 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 12:58:46.458 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:46.461 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:46.464 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:46.466 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AuthController.GetProfile (AVIDLogistics.WebApi) in 11.5366ms
2025-07-30 12:58:46.467 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 12:58:46.468 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 12:58:46.469 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 12:58:46.471 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AuthController.GetProfile (AVIDLogistics.WebApi)'
2025-07-30 12:58:46.474 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 12:58:46.476 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 12:58:46.477 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 12:58:46.478 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/auth/profile - 200 null application/json; charset=utf-8 88.2401ms
2025-07-30 12:58:46.483 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|WarehouseStaff|Auditor)
2025-07-30 12:58:46.483 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|WarehouseStaff|Auditor)
2025-07-30 12:58:46.484 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|WarehouseStaff|Auditor)
2025-07-30 12:58:46.492 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 12:58:46.493 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 12:58:46.494 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 12:58:46.494 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/alerts/missing-seals - 401 0 null 51.9684ms
2025-07-30 12:58:46.496 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/alerts/overdue-returns - 401 0 null 49.0812ms
2025-07-30 12:58:46.498 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/alerts/maintenance-needed - 401 0 null 46.9666ms
2025-07-30 12:58:46.502 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/alerts/missing-seals - null null
2025-07-30 12:58:46.507 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/alerts/overdue-returns - null null
2025-07-30 12:58:46.511 -04:00 [ERR] Failed executing DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ElectionId], [e].[CreatedBy], [e].[CreatedDate], [e].[ElectionDate], [e].[ElectionType], [e].[ModifiedBy], [e].[ModifiedDate], [e].[Name], [e].[Status]
FROM [Elections] AS [e]
WHERE [e].[ElectionDate] > GETUTCDATE()
ORDER BY [e].[ElectionDate]
2025-07-30 12:58:46.511 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/alerts/maintenance-needed - null null
2025-07-30 12:58:46.513 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:46.516 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:46.521 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:46.523 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 12:58:46.526 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 12:58:46.527 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AVIDLogistics.Infrastructure.Data.WarehouseDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ElectionDate'.
Invalid column name 'CreatedBy'.
Invalid column name 'ElectionDate'.
Invalid column name 'ElectionType'.
Invalid column name 'ModifiedBy'.
Invalid column name 'Status'.
Invalid column name 'ElectionDate'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:50d05981-23b0-4f3c-bb6e-f82ed28b8065
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ElectionDate'.
Invalid column name 'CreatedBy'.
Invalid column name 'ElectionDate'.
Invalid column name 'ElectionType'.
Invalid column name 'ModifiedBy'.
Invalid column name 'Status'.
Invalid column name 'ElectionDate'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:50d05981-23b0-4f3c-bb6e-f82ed28b8065
Error Number:207,State:1,Class:16
2025-07-30 12:58:46.528 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 12:58:46.530 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 12:58:46.535 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 12:58:46.549 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 12:58:46.549 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 12:58:46.550 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|WarehouseStaff|Auditor)
2025-07-30 12:58:46.551 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|WarehouseStaff|Auditor)
2025-07-30 12:58:46.553 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.ElectionsController.GetElections (AVIDLogistics.WebApi) in 171.9517ms
2025-07-30 12:58:46.556 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/elections - null null
2025-07-30 12:58:46.556 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|WarehouseStaff|Auditor)
2025-07-30 12:58:46.558 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 12:58:46.559 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 12:58:46.560 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.ElectionsController.GetElections (AVIDLogistics.WebApi)'
2025-07-30 12:58:46.564 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:46.565 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 12:58:46.565 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/alerts/missing-seals - 401 0 null 63.8706ms
2025-07-30 12:58:46.567 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/alerts/overdue-returns - 401 0 null 59.7369ms
2025-07-30 12:58:46.569 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/elections - 500 null application/json; charset=utf-8 216.9175ms
2025-07-30 12:58:46.573 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 12:58:46.575 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/alerts/maintenance-needed - 401 0 null 63.859ms
2025-07-30 12:58:46.585 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 12:58:46.595 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.ElectionsController.GetElections (AVIDLogistics.WebApi)'
2025-07-30 12:58:46.597 -04:00 [INF] Route matched with {action = "GetElections", controller = "Elections"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetElections() on controller AVIDLogistics.WebApi.Controllers.ElectionsController (AVIDLogistics.WebApi).
2025-07-30 12:58:46.610 -04:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ElectionId], [e].[CreatedBy], [e].[CreatedDate], [e].[ElectionDate], [e].[ElectionType], [e].[ModifiedBy], [e].[ModifiedDate], [e].[Name], [e].[Status]
FROM [Elections] AS [e]
WHERE [e].[ElectionDate] > GETUTCDATE()
ORDER BY [e].[ElectionDate]
2025-07-30 12:58:46.613 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/logo192.png - null null
2025-07-30 12:58:46.616 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AVIDLogistics.Infrastructure.Data.WarehouseDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ElectionDate'.
Invalid column name 'CreatedBy'.
Invalid column name 'ElectionDate'.
Invalid column name 'ElectionType'.
Invalid column name 'ModifiedBy'.
Invalid column name 'Status'.
Invalid column name 'ElectionDate'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:50d05981-23b0-4f3c-bb6e-f82ed28b8065
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ElectionDate'.
Invalid column name 'CreatedBy'.
Invalid column name 'ElectionDate'.
Invalid column name 'ElectionType'.
Invalid column name 'ModifiedBy'.
Invalid column name 'Status'.
Invalid column name 'ElectionDate'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:50d05981-23b0-4f3c-bb6e-f82ed28b8065
Error Number:207,State:1,Class:16
2025-07-30 12:58:46.617 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/logo192.png - 404 0 null 3.7954ms
2025-07-30 12:58:46.630 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 12:58:46.633 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5166/logo192.png, Response status code: 404
2025-07-30 12:58:46.638 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.ElectionsController.GetElections (AVIDLogistics.WebApi) in 38.0206ms
2025-07-30 12:58:46.645 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.ElectionsController.GetElections (AVIDLogistics.WebApi)'
2025-07-30 12:58:46.646 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/elections - 500 null application/json; charset=utf-8 90.4148ms
2025-07-30 12:58:49.329 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/facilities - null null
2025-07-30 12:58:49.330 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/facilities - null null
2025-07-30 12:58:49.340 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:49.350 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:49.355 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/facilities - 204 null null 26.0267ms
2025-07-30 12:58:49.357 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/facilities - 204 null null 27.4686ms
2025-07-30 12:58:49.367 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 12:58:49.390 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:49.395 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 12:58:49.403 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 12:58:49.406 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 12:58:49.409 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 12:58:49.412 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 45.6239ms
2025-07-30 12:58:49.420 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/assets - null null
2025-07-30 12:58:49.421 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 12:58:49.427 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:49.429 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:49.430 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/assets - 204 null null 10.7761ms
2025-07-30 12:58:49.431 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 12:58:49.438 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/assets - null null
2025-07-30 12:58:49.441 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 12:58:49.443 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:49.444 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 12:58:49.445 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 12:58:49.446 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 12:58:49.448 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 12:58:49.449 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 27.3414ms
2025-07-30 12:58:49.453 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 12:58:49.459 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 12:58:49.465 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 12:58:49.470 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AVIDLogistics.Infrastructure.Data.WarehouseDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method31(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method31(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-07-30 12:58:49.477 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 12:58:49.478 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 17.8573ms
2025-07-30 12:58:49.480 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/assets - null null
2025-07-30 12:58:49.481 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 12:58:49.485 -04:00 [INF] CORS policy execution successful.
2025-07-30 12:58:49.488 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/assets - 500 null application/json; charset=utf-8 49.7202ms
2025-07-30 12:58:49.490 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 12:58:49.498 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 12:58:49.499 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 12:58:49.503 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 12:58:49.511 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 12:58:49.516 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AVIDLogistics.Infrastructure.Data.WarehouseDbContext'.
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method31(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Data.SqlTypes.SqlNullValueException: Data is Null. This method or property cannot be called on Null values.
   at Microsoft.Data.SqlClient.SqlBuffer.ThrowIfNull()
   at Microsoft.Data.SqlClient.SqlBuffer.get_String()
   at Microsoft.Data.SqlClient.SqlDataReader.GetString(Int32 i)
   at lambda_method31(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-07-30 12:58:49.526 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 12:58:49.527 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 18.6814ms
2025-07-30 12:58:49.529 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 12:58:49.530 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/assets - 500 null application/json; charset=utf-8 50.4222ms
2025-07-30 13:00:44.110 -04:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'PollSite'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-30 13:00:44.158 -04:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'PollSite'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-30 13:00:44.669 -04:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-30 13:00:44.747 -04:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-07-30 13:00:44.757 -04:00 [INF] Database initialized successfully
2025-07-30 13:00:44.763 -04:00 [INF] AVID Logistics Warehouse Management API starting up...
2025-07-30 13:00:44.781 -04:00 [INF] User profile is available. Using 'C:\Users\GraceZhou\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-30 13:00:44.853 -04:00 [INF] Now listening on: http://localhost:5166
2025-07-30 13:00:44.859 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-30 13:00:44.862 -04:00 [INF] Hosting environment: Development
2025-07-30 13:00:44.863 -04:00 [INF] Content root path: C:\Users\GraceZhou\Documents\AVIDLogistics\backend\AVIDLogistics.WebApi
2025-07-30 13:00:50.501 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/facilities - null null
2025-07-30 13:00:50.501 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/facilities - null null
2025-07-30 13:00:50.514 -04:00 [WRN] Failed to determine the https port for redirect.
2025-07-30 13:00:50.548 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:00:50.548 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:00:50.563 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/facilities - 204 null null 62.5163ms
2025-07-30 13:00:50.563 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/facilities - 204 null null 62.5237ms
2025-07-30 13:00:50.578 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 13:00:50.586 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:00:50.616 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 13:00:50.629 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 13:00:50.636 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 13:00:50.646 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 13:00:50.651 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 73.1503ms
2025-07-30 13:00:50.658 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/assets - null null
2025-07-30 13:00:50.662 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 13:00:50.666 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:00:50.669 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:00:50.670 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/assets - 204 null null 11.8103ms
2025-07-30 13:00:50.678 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 13:00:50.681 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/assets - null null
2025-07-30 13:00:50.684 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 13:00:50.686 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:00:50.692 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 13:00:50.694 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 13:00:50.695 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 13:00:50.697 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 13:00:50.698 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 35.8092ms
2025-07-30 13:00:50.721 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:00:50.747 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:00:50.781 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/logo192.png - null null
2025-07-30 13:00:50.797 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/logo192.png - 404 0 null 16.0065ms
2025-07-30 13:00:50.807 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5166/logo192.png, Response status code: 404
2025-07-30 13:00:51.006 -04:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 13:00:51.084 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 13:00:51.133 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/assets - null null
2025-07-30 13:00:51.134 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 380.8404ms
2025-07-30 13:00:51.145 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:00:51.154 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:00:51.155 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 13:00:51.164 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/assets - 200 null application/json; charset=utf-8 482.9852ms
2025-07-30 13:00:51.166 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 13:00:51.184 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:00:51.188 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:00:51.258 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 13:00:51.270 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 13:00:51.274 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 77.9341ms
2025-07-30 13:00:51.280 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:00:51.285 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/assets - 200 null application/json; charset=utf-8 151.2119ms
2025-07-30 13:01:05.084 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/facilities - null null
2025-07-30 13:01:05.093 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:01:05.097 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/facilities - 204 null null 10.3267ms
2025-07-30 13:01:05.106 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 13:01:05.111 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:01:05.113 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 13:01:05.116 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 13:01:05.123 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 13:01:05.127 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 13:01:05.133 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 27.1937ms
2025-07-30 13:01:29.309 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/assets - null null
2025-07-30 13:01:29.318 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:01:29.326 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/assets - 204 null null 16.72ms
2025-07-30 13:01:29.337 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 163
2025-07-30 13:01:29.343 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:01:29.346 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 13:01:29.357 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 13:01:29.366 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:01:29.393 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:01:29.494 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:01:29.538 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 129.3586ms
2025-07-30 13:01:29.545 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:01:29.553 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 215.6563ms
2025-07-30 13:03:19.194 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 95
2025-07-30 13:03:19.197 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:03:19.198 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:03:19.208 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:03:19.209 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 9.4584ms
2025-07-30 13:03:19.211 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:03:19.212 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 17.8614ms
2025-07-30 13:04:51.915 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/assets - null null
2025-07-30 13:04:51.927 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:04:51.932 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/assets - 204 null null 17.6282ms
2025-07-30 13:04:51.941 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 163
2025-07-30 13:04:51.949 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:04:51.950 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 13:04:51.955 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 13:04:51.960 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:04:51.963 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:04:51.970 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:04:51.971 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 3.0668ms
2025-07-30 13:04:51.973 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:04:51.975 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 34.1351ms
2025-07-30 13:04:53.017 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 163
2025-07-30 13:04:53.030 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:04:53.034 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 13:04:53.041 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 13:04:53.042 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:04:53.044 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:04:53.050 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:04:53.051 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 2.7361ms
2025-07-30 13:04:53.053 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:04:53.055 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 37.1432ms
2025-07-30 13:05:24.136 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/assets - null null
2025-07-30 13:05:24.139 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:05:24.140 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:05:24.144 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 13:05:24.147 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 13:05:24.149 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 7.6531ms
2025-07-30 13:05:24.151 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:05:24.152 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/assets - 200 null application/json; charset=utf-8 16.3036ms
2025-07-30 13:06:14.621 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 121
2025-07-30 13:06:14.624 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:06:14.626 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:06:14.754 -04:00 [INF] Executed DbCommand (62ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
WHERE [a].[SerialNumber] = @__serialNumber_0
2025-07-30 13:06:14.852 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (Size = 100), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Assets] ([AssetType], [Barcode], [Condition], [FacilityId], [Location], [RegisteredDate], [RfidTag], [SerialNumber], [Status])
OUTPUT INSERTED.[Id], INSERTED.[CreatedDate], INSERTED.[ModifiedDate]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-30 13:06:14.888 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
WHERE [a].[Id] = @__id_0
2025-07-30 13:06:14.900 -04:00 [INF] Executing CreatedAtActionResult, writing value of type 'AVIDLogistics.Domain.Entities.Asset'.
2025-07-30 13:06:14.919 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 291.1852ms
2025-07-30 13:06:14.920 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:06:14.922 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 201 null application/json; charset=utf-8 300.6087ms
2025-07-30 13:06:47.193 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 270
2025-07-30 13:06:47.195 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:06:47.197 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:06:47.210 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
WHERE [a].[SerialNumber] = @__serialNumber_0
2025-07-30 13:06:47.260 -04:00 [INF] Executed DbCommand (41ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (Size = 100), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Assets] ([AssetType], [Barcode], [Condition], [FacilityId], [Location], [RegisteredDate], [RfidTag], [SerialNumber], [Status])
OUTPUT INSERTED.[Id], INSERTED.[CreatedDate], INSERTED.[ModifiedDate]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-30 13:06:47.274 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
WHERE [a].[Id] = @__id_0
2025-07-30 13:06:47.286 -04:00 [INF] Executing CreatedAtActionResult, writing value of type 'AVIDLogistics.Domain.Entities.Asset'.
2025-07-30 13:06:47.290 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 87.3047ms
2025-07-30 13:06:47.293 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:06:47.297 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 201 null application/json; charset=utf-8 103.7506ms
2025-07-30 13:07:27.984 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 125
2025-07-30 13:07:27.987 -04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-07-30 13:07:27.990 -04:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-07-30 13:07:27.995 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:07:27.996 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:07:28.004 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
WHERE [a].[SerialNumber] = @__serialNumber_0
2025-07-30 13:07:28.014 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (Size = 100), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Assets] ([AssetType], [Barcode], [Condition], [FacilityId], [Location], [RegisteredDate], [RfidTag], [SerialNumber], [Status])
OUTPUT INSERTED.[Id], INSERTED.[CreatedDate], INSERTED.[ModifiedDate]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-30 13:07:28.027 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'AVIDLogistics.Infrastructure.Data.WarehouseDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (RF001).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:73c5bbfe-e4e0-42b5-b827-ca349e1a8446
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (RF001).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:73c5bbfe-e4e0-42b5-b827-ca349e1a8446
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-30 13:07:28.037 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 13:07:28.039 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 38.0886ms
2025-07-30 13:07:28.041 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:07:28.041 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 500 null application/json; charset=utf-8 57.622ms
2025-07-30 13:08:17.804 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 13:08:17.809 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:17.811 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 13:08:17.812 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 13:08:17.814 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 9.8166ms
2025-07-30 13:08:17.818 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 13:08:17.821 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:17.822 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 13:08:17.823 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 13:08:17.824 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 6.8374ms
2025-07-30 13:08:17.828 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 13:08:17.830 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:17.831 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 13:08:17.832 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 13:08:17.833 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 5.7348ms
2025-07-30 13:08:17.837 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 13:08:17.839 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:17.840 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 13:08:17.841 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 13:08:17.843 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 5.4351ms
2025-07-30 13:08:17.845 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 13:08:17.849 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:17.850 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 13:08:17.851 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/assets - null null
2025-07-30 13:08:17.852 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 13:08:17.854 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:17.855 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 9.9856ms
2025-07-30 13:08:17.856 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:17.859 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 13:08:17.860 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:08:17.862 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:17.865 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 13:08:17.865 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 13:08:17.866 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 13:08:17.869 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 13:08:17.870 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 11.4766ms
2025-07-30 13:08:17.873 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 9.1424ms
2025-07-30 13:08:17.875 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/assets - null null
2025-07-30 13:08:17.877 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 13:08:17.878 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:17.881 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:17.884 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:17.886 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/assets - 200 null application/json; charset=utf-8 34.7528ms
2025-07-30 13:08:17.887 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:17.888 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 13:08:17.892 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:08:17.893 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 13:08:17.897 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 20.0714ms
2025-07-30 13:08:17.897 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 13:08:17.900 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 13:08:17.902 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 13:08:17.904 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:17.905 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 9.4185ms
2025-07-30 13:08:17.906 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 13:08:17.906 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/assets - null null
2025-07-30 13:08:17.906 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:17.907 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 13:08:17.909 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:17.910 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/assets - 200 null application/json; charset=utf-8 35.6292ms
2025-07-30 13:08:17.912 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 12.2444ms
2025-07-30 13:08:17.913 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:17.918 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 13:08:17.919 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:08:17.921 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:17.924 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 13:08:17.925 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 13:08:17.925 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 13:08:17.926 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 7.3813ms
2025-07-30 13:08:17.928 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 13:08:17.930 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 13:08:17.932 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 8.6793ms
2025-07-30 13:08:17.934 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:17.934 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/assets - null null
2025-07-30 13:08:17.935 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:17.936 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 13:08:17.939 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:17.940 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/assets - 200 null application/json; charset=utf-8 33.8549ms
2025-07-30 13:08:17.942 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 13:08:17.942 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:17.945 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 15.5896ms
2025-07-30 13:08:17.946 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:08:17.949 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 13:08:17.953 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:17.953 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 13:08:17.954 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 13:08:17.956 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 13:08:17.957 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 13:08:17.959 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 8.7931ms
2025-07-30 13:08:17.960 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 11.247ms
2025-07-30 13:08:17.962 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:17.963 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 13:08:17.967 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/assets - null null
2025-07-30 13:08:17.968 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/assets - 200 null application/json; charset=utf-8 33.6366ms
2025-07-30 13:08:17.972 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:17.974 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:17.978 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 13:08:17.978 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:17.979 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 13:08:17.981 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:08:17.982 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 19.0169ms
2025-07-30 13:08:17.986 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 13:08:17.986 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 13:08:17.989 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 13:08:17.990 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:17.992 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 8.9342ms
2025-07-30 13:08:17.993 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 13:08:17.994 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:17.995 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 13:08:17.995 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/assets - null null
2025-07-30 13:08:17.996 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/assets - 200 null application/json; charset=utf-8 28.6844ms
2025-07-30 13:08:17.996 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 10.2374ms
2025-07-30 13:08:17.998 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:18.003 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 13:08:18.004 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:18.006 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:18.008 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:08:18.009 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 13:08:18.012 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 13:08:18.013 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 10.2803ms
2025-07-30 13:08:18.015 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 13:08:18.020 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 13:08:18.021 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 10.5139ms
2025-07-30 13:08:18.022 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:18.023 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/assets - null null
2025-07-30 13:08:18.023 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/assets - 200 null application/json; charset=utf-8 28.0686ms
2025-07-30 13:08:18.026 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:18.029 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:18.031 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:08:18.035 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 13:08:18.039 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 13:08:18.041 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 8.3874ms
2025-07-30 13:08:18.043 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:18.043 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/assets - null null
2025-07-30 13:08:18.044 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/assets - 200 null application/json; charset=utf-8 21.0707ms
2025-07-30 13:08:18.047 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:18.052 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:18.053 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:08:18.057 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 13:08:18.060 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 13:08:18.061 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 6.2117ms
2025-07-30 13:08:18.063 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:18.063 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/assets - null null
2025-07-30 13:08:18.064 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/assets - 200 null application/json; charset=utf-8 20.8905ms
2025-07-30 13:08:18.066 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:18.069 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:18.071 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:08:18.074 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 13:08:18.078 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 13:08:18.080 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 7.3936ms
2025-07-30 13:08:18.081 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:18.082 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/assets - 200 null application/json; charset=utf-8 18.6672ms
2025-07-30 13:08:18.085 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/assets - null null
2025-07-30 13:08:18.088 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:18.090 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:18.091 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:08:18.094 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 13:08:18.097 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 13:08:18.099 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 6.124ms
2025-07-30 13:08:18.100 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:18.100 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/assets - null null
2025-07-30 13:08:18.101 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/assets - 200 null application/json; charset=utf-8 15.8554ms
2025-07-30 13:08:18.104 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:18.108 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:18.110 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:08:18.114 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 13:08:18.117 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 13:08:18.119 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 7.4988ms
2025-07-30 13:08:18.121 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:18.121 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/assets - null null
2025-07-30 13:08:18.122 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/assets - 200 null application/json; charset=utf-8 21.8917ms
2025-07-30 13:08:18.124 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:18.128 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:18.129 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:08:18.133 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 13:08:18.134 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 13:08:18.137 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 5.5912ms
2025-07-30 13:08:18.138 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/assets - null null
2025-07-30 13:08:18.138 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:18.141 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:18.142 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/assets - 200 null application/json; charset=utf-8 20.7588ms
2025-07-30 13:08:18.143 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:18.146 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:08:18.150 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 13:08:18.153 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 13:08:18.155 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 6.1396ms
2025-07-30 13:08:18.156 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/assets - null null
2025-07-30 13:08:18.156 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:18.161 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:18.162 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/assets - 200 null application/json; charset=utf-8 24.0034ms
2025-07-30 13:08:18.163 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:18.166 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:08:18.174 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 13:08:18.177 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 13:08:18.179 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 8.0254ms
2025-07-30 13:08:18.180 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 13:08:18.181 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/assets - 200 null application/json; charset=utf-8 24.807ms
2025-07-30 13:08:37.389 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 123
2025-07-30 13:08:37.392 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:08:37.393 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:08:37.398 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
WHERE [a].[SerialNumber] = @__serialNumber_0
2025-07-30 13:08:37.403 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (Size = 100), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Assets] ([AssetType], [Barcode], [Condition], [FacilityId], [Location], [RegisteredDate], [RfidTag], [SerialNumber], [Status])
OUTPUT INSERTED.[Id], INSERTED.[CreatedDate], INSERTED.[ModifiedDate]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-30 13:08:37.409 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'AVIDLogistics.Infrastructure.Data.WarehouseDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (RF001).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:73c5bbfe-e4e0-42b5-b827-ca349e1a8446
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (RF001).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:73c5bbfe-e4e0-42b5-b827-ca349e1a8446
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-30 13:08:37.431 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 13:08:37.432 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 37.3385ms
2025-07-30 13:08:37.434 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:08:37.437 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 500 null application/json; charset=utf-8 47.5768ms
2025-07-30 13:08:56.460 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 13:08:56.463 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:08:56.465 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 13:08:56.468 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 13:08:56.470 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 9.5941ms
2025-07-30 13:09:07.522 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 13:09:07.537 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:09:07.546 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 13:09:07.549 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 13:09:07.555 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 33.1854ms
2025-07-30 13:09:17.358 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/assets - null null
2025-07-30 13:09:17.695 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:09:17.709 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/assets - 204 null null 348.4092ms
2025-07-30 13:09:19.252 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:09:19.503 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:09:19.509 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:09:19.520 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:09:19.541 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:09:19.554 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 15.9933ms
2025-07-30 13:09:19.568 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:09:19.775 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 523.1755ms
2025-07-30 13:10:27.175 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 123
2025-07-30 13:10:27.177 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:10:27.178 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:10:27.184 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
WHERE [a].[SerialNumber] = @__serialNumber_0
2025-07-30 13:10:27.190 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (Size = 100), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Assets] ([AssetType], [Barcode], [Condition], [FacilityId], [Location], [RegisteredDate], [RfidTag], [SerialNumber], [Status])
OUTPUT INSERTED.[Id], INSERTED.[CreatedDate], INSERTED.[ModifiedDate]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-30 13:10:27.194 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'AVIDLogistics.Infrastructure.Data.WarehouseDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (RF001).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:73c5bbfe-e4e0-42b5-b827-ca349e1a8446
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (RF001).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:73c5bbfe-e4e0-42b5-b827-ca349e1a8446
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-30 13:10:27.207 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 13:10:27.209 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 28.3478ms
2025-07-30 13:10:27.210 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:10:27.211 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 500 null application/json; charset=utf-8 36.4153ms
2025-07-30 13:13:24.386 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 123
2025-07-30 13:13:24.389 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:13:24.394 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:13:24.405 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
WHERE [a].[SerialNumber] = @__serialNumber_0
2025-07-30 13:13:24.412 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (Size = 100), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Assets] ([AssetType], [Barcode], [Condition], [FacilityId], [Location], [RegisteredDate], [RfidTag], [SerialNumber], [Status])
OUTPUT INSERTED.[Id], INSERTED.[CreatedDate], INSERTED.[ModifiedDate]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-30 13:13:24.416 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'AVIDLogistics.Infrastructure.Data.WarehouseDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (RF001).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:73c5bbfe-e4e0-42b5-b827-ca349e1a8446
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (RF001).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:73c5bbfe-e4e0-42b5-b827-ca349e1a8446
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-30 13:13:24.432 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 13:13:24.436 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 36.7364ms
2025-07-30 13:13:24.439 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:13:24.440 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 500 null application/json; charset=utf-8 54.1203ms
2025-07-30 13:14:10.888 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 123
2025-07-30 13:14:10.930 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:14:10.933 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:14:10.941 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
WHERE [a].[SerialNumber] = @__serialNumber_0
2025-07-30 13:14:10.946 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (Size = 100), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Assets] ([AssetType], [Barcode], [Condition], [FacilityId], [Location], [RegisteredDate], [RfidTag], [SerialNumber], [Status])
OUTPUT INSERTED.[Id], INSERTED.[CreatedDate], INSERTED.[ModifiedDate]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-30 13:14:10.950 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'AVIDLogistics.Infrastructure.Data.WarehouseDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (RF001).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:73c5bbfe-e4e0-42b5-b827-ca349e1a8446
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (RF001).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:73c5bbfe-e4e0-42b5-b827-ca349e1a8446
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-30 13:14:10.966 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 13:14:10.970 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 32.5991ms
2025-07-30 13:14:10.973 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:14:10.976 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 500 null application/json; charset=utf-8 87.1073ms
2025-07-30 13:14:39.973 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5166/api/facilities - null null
2025-07-30 13:14:39.981 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:14:39.986 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 13:14:39.991 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 13:14:39.996 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5166/api/facilities - 401 0 null 22.9095ms
2025-07-30 13:14:41.359 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 71
2025-07-30 13:14:41.367 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:14:41.371 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:14:41.376 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
WHERE [a].[SerialNumber] = @__serialNumber_0
2025-07-30 13:14:41.383 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (Size = 100), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Assets] ([AssetType], [Barcode], [Condition], [FacilityId], [Location], [RegisteredDate], [RfidTag], [SerialNumber], [Status])
OUTPUT INSERTED.[Id], INSERTED.[CreatedDate], INSERTED.[ModifiedDate]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-30 13:14:41.386 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'AVIDLogistics.Infrastructure.Data.WarehouseDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (<NULL>).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:73c5bbfe-e4e0-42b5-b827-ca349e1a8446
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (<NULL>).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:73c5bbfe-e4e0-42b5-b827-ca349e1a8446
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-30 13:14:41.395 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 13:14:41.396 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 23.161ms
2025-07-30 13:14:41.398 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:14:41.399 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 500 null application/json; charset=utf-8 40.0977ms
2025-07-30 13:14:51.860 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/assets - null null
2025-07-30 13:14:51.867 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:14:51.873 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/assets - 204 null null 13.6564ms
2025-07-30 13:14:51.895 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:14:51.912 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:14:51.921 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:14:51.931 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:14:51.950 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:14:51.977 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 31.0944ms
2025-07-30 13:14:51.983 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:14:51.994 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 98.3449ms
2025-07-30 13:17:08.416 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 71
2025-07-30 13:17:08.419 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:17:08.420 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:17:08.426 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
WHERE [a].[SerialNumber] = @__serialNumber_0
2025-07-30 13:17:08.432 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (Size = 100), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Assets] ([AssetType], [Barcode], [Condition], [FacilityId], [Location], [RegisteredDate], [RfidTag], [SerialNumber], [Status])
OUTPUT INSERTED.[Id], INSERTED.[CreatedDate], INSERTED.[ModifiedDate]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-30 13:17:08.439 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'AVIDLogistics.Infrastructure.Data.WarehouseDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (<NULL>).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:73c5bbfe-e4e0-42b5-b827-ca349e1a8446
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (<NULL>).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:73c5bbfe-e4e0-42b5-b827-ca349e1a8446
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-30 13:17:08.451 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 13:17:08.454 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 32.1096ms
2025-07-30 13:17:08.458 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:17:08.460 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 500 null application/json; charset=utf-8 43.436ms
2025-07-30 13:20:49.267 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 71
2025-07-30 13:20:49.274 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:20:49.278 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:20:49.288 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
WHERE [a].[SerialNumber] = @__serialNumber_0
2025-07-30 13:20:49.294 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (Size = 100), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Assets] ([AssetType], [Barcode], [Condition], [FacilityId], [Location], [RegisteredDate], [RfidTag], [SerialNumber], [Status])
OUTPUT INSERTED.[Id], INSERTED.[CreatedDate], INSERTED.[ModifiedDate]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-30 13:20:49.298 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'AVIDLogistics.Infrastructure.Data.WarehouseDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (<NULL>).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:73c5bbfe-e4e0-42b5-b827-ca349e1a8446
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (<NULL>).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:73c5bbfe-e4e0-42b5-b827-ca349e1a8446
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-30 13:20:49.317 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 13:20:49.320 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 36.6322ms
2025-07-30 13:20:49.322 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:20:49.323 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 500 null application/json; charset=utf-8 56.035ms
2025-07-30 13:22:33.602 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 71
2025-07-30 13:22:33.606 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:22:33.607 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:22:33.613 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
WHERE [a].[SerialNumber] = @__serialNumber_0
2025-07-30 13:22:33.618 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (Size = 100), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Assets] ([AssetType], [Barcode], [Condition], [FacilityId], [Location], [RegisteredDate], [RfidTag], [SerialNumber], [Status])
OUTPUT INSERTED.[Id], INSERTED.[CreatedDate], INSERTED.[ModifiedDate]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-30 13:22:33.624 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'AVIDLogistics.Infrastructure.Data.WarehouseDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (<NULL>).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:73c5bbfe-e4e0-42b5-b827-ca349e1a8446
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (<NULL>).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:73c5bbfe-e4e0-42b5-b827-ca349e1a8446
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-30 13:22:33.638 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 13:22:33.643 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 32.138ms
2025-07-30 13:22:33.646 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:22:33.648 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 500 null application/json; charset=utf-8 46.0765ms
2025-07-30 13:26:33.761 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 71
2025-07-30 13:26:33.768 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:26:33.770 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:26:33.894 -04:00 [INF] Executed DbCommand (25ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
WHERE [a].[SerialNumber] = @__serialNumber_0
2025-07-30 13:26:33.906 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (Size = 100), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Assets] ([AssetType], [Barcode], [Condition], [FacilityId], [Location], [RegisteredDate], [RfidTag], [SerialNumber], [Status])
OUTPUT INSERTED.[Id], INSERTED.[CreatedDate], INSERTED.[ModifiedDate]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-30 13:26:33.913 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'AVIDLogistics.Infrastructure.Data.WarehouseDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (<NULL>).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:68b6cb56-004f-4c31-ba1e-59f62ea750a5
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (<NULL>).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:68b6cb56-004f-4c31-ba1e-59f62ea750a5
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-30 13:26:33.931 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 13:26:33.932 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 158.7462ms
2025-07-30 13:26:33.933 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:26:33.935 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 500 null application/json; charset=utf-8 173.7841ms
2025-07-30 13:54:16.973 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/assets - null null
2025-07-30 13:54:16.981 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:54:16.984 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/assets - 204 null null 10.345ms
2025-07-30 13:54:17.001 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:54:17.015 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:54:17.020 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:17.024 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:54:17.035 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:54:17.036 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 2.6523ms
2025-07-30 13:54:17.038 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:17.041 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 39.3505ms
2025-07-30 13:54:18.101 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:54:18.108 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:54:18.109 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:18.111 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:54:18.113 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:54:18.114 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 1.3662ms
2025-07-30 13:54:18.116 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:18.118 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 17.1796ms
2025-07-30 13:54:18.247 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:54:18.250 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:54:18.252 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:18.255 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:54:18.262 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:54:18.268 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 6.8ms
2025-07-30 13:54:18.271 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:18.275 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 27.583ms
2025-07-30 13:54:18.482 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:54:18.489 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:54:18.491 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:18.493 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:54:18.500 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:54:18.502 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 3.1089ms
2025-07-30 13:54:18.506 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:18.511 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 28.4457ms
2025-07-30 13:54:18.671 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:54:18.679 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:54:18.682 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:18.684 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:54:18.694 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:54:18.697 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 4.1544ms
2025-07-30 13:54:18.701 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:18.705 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 33.91ms
2025-07-30 13:54:18.859 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:54:18.864 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:54:18.866 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:18.868 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:54:18.882 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:54:18.888 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 7.1028ms
2025-07-30 13:54:18.892 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:18.896 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 37.1497ms
2025-07-30 13:54:19.078 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:54:19.085 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:54:19.089 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:19.095 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:54:19.106 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:54:19.109 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 4.9875ms
2025-07-30 13:54:19.112 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:19.114 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 35.9796ms
2025-07-30 13:54:19.314 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:54:19.323 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:54:19.325 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:19.327 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:54:19.342 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:54:19.345 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 4.0717ms
2025-07-30 13:54:19.349 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:19.352 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 37.1653ms
2025-07-30 13:54:19.502 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:54:19.508 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:54:19.510 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:19.512 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:54:19.521 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:54:19.524 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 5.2859ms
2025-07-30 13:54:19.528 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:19.531 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 28.7441ms
2025-07-30 13:54:19.712 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:54:19.721 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:54:19.724 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:19.726 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:54:19.740 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:54:19.747 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 9.4882ms
2025-07-30 13:54:19.750 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:19.754 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 42.0828ms
2025-07-30 13:54:19.933 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:54:19.941 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:54:19.943 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:19.945 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:54:19.954 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:54:19.959 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 5.4346ms
2025-07-30 13:54:19.962 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:19.967 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 34.039ms
2025-07-30 13:54:20.147 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:54:20.157 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:54:20.159 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:20.167 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:54:20.181 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:54:20.184 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 4.7178ms
2025-07-30 13:54:20.190 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:20.196 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 48.6876ms
2025-07-30 13:54:20.371 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:54:20.404 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:54:20.407 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:20.411 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:54:20.418 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:54:20.422 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 6.9433ms
2025-07-30 13:54:20.425 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:20.428 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 57.0046ms
2025-07-30 13:54:20.579 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:54:20.586 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:54:20.589 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:20.592 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:54:20.598 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:54:20.602 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 5.1398ms
2025-07-30 13:54:20.609 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:20.613 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 34.4242ms
2025-07-30 13:54:20.768 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:54:20.772 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:54:20.774 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:20.779 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:54:20.786 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:54:20.793 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 9.7632ms
2025-07-30 13:54:20.803 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:20.810 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 42.2473ms
2025-07-30 13:54:20.943 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:54:20.948 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:54:20.950 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:20.954 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:54:20.964 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:54:20.967 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 3.9581ms
2025-07-30 13:54:20.973 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:20.978 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 34.7444ms
2025-07-30 13:54:21.140 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:54:21.150 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:54:21.155 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:21.159 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:54:21.171 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:54:21.175 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 5.1877ms
2025-07-30 13:54:21.181 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:21.185 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 45.4745ms
2025-07-30 13:54:38.010 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 71
2025-07-30 13:54:38.013 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:38.014 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:54:38.019 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__serialNumber_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
WHERE [a].[SerialNumber] = @__serialNumber_0
2025-07-30 13:54:38.028 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 200), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (Size = 100), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Assets] ([AssetType], [Barcode], [Condition], [FacilityId], [Location], [RegisteredDate], [RfidTag], [SerialNumber], [Status])
OUTPUT INSERTED.[Id], INSERTED.[CreatedDate], INSERTED.[ModifiedDate]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-30 13:54:38.035 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'AVIDLogistics.Infrastructure.Data.WarehouseDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (<NULL>).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:68b6cb56-004f-4c31-ba1e-59f62ea750a5
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UQ__Assets__BCDFBBE7E02B3B96'. Cannot insert duplicate key in object 'dbo.Assets'. The duplicate key value is (<NULL>).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:68b6cb56-004f-4c31-ba1e-59f62ea750a5
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-30 13:54:38.056 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 13:54:38.058 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 41.7116ms
2025-07-30 13:54:38.059 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:54:38.060 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 500 null application/json; charset=utf-8 50.8703ms
2025-07-30 13:57:40.512 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5166/api/assets - null null
2025-07-30 13:57:40.520 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:57:40.523 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5166/api/assets - 204 null null 10.8927ms
2025-07-30 13:57:40.532 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:57:40.546 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:57:40.552 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:57:40.559 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:57:40.568 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:57:40.574 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 6.9033ms
2025-07-30 13:57:40.580 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:57:40.586 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 53.5506ms
2025-07-30 13:57:41.210 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:57:41.216 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:57:41.220 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:57:41.227 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:57:41.236 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:57:41.239 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 4.2252ms
2025-07-30 13:57:41.243 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:57:41.248 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 38.3606ms
2025-07-30 13:57:41.385 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:57:41.393 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:57:41.396 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:57:41.402 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:57:41.409 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:57:41.415 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 6.2974ms
2025-07-30 13:57:41.418 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:57:41.421 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 36.2624ms
2025-07-30 13:57:41.558 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:57:41.566 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:57:41.569 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:57:41.574 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:57:41.582 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:57:41.589 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 7.9321ms
2025-07-30 13:57:41.595 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:57:41.600 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 42.4813ms
2025-07-30 13:57:41.718 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:57:41.730 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:57:41.736 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:57:41.741 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:57:41.749 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:57:41.756 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 7.6999ms
2025-07-30 13:57:41.762 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:57:41.768 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 49.5604ms
2025-07-30 13:57:41.893 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:57:41.900 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:57:41.903 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:57:41.911 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:57:41.923 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:57:41.928 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 6.0162ms
2025-07-30 13:57:41.937 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:57:41.943 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 50.3624ms
2025-07-30 13:57:42.050 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5166/api/assets - application/json 157
2025-07-30 13:57:42.062 -04:00 [INF] CORS policy execution successful.
2025-07-30 13:57:42.064 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:57:42.072 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 13:57:42.081 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 13:57:42.089 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 8.8648ms
2025-07-30 13:57:42.095 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 13:57:42.100 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5166/api/assets - 400 null application/problem+json; charset=utf-8 50.7807ms
2025-07-30 14:12:29.102 -04:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'PollSite'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-30 14:12:29.160 -04:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'PollSite'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-30 14:12:29.815 -04:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-30 14:12:29.909 -04:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-07-30 14:12:29.915 -04:00 [INF] Database initialized successfully
2025-07-30 14:12:29.925 -04:00 [INF] AVID Logistics Warehouse Management API starting up...
2025-07-30 14:12:29.949 -04:00 [INF] User profile is available. Using 'C:\Users\GraceZhou\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-30 14:12:30.046 -04:00 [WRN] Overriding address(es) 'http://localhost:5166'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-07-30 14:12:30.056 -04:00 [INF] Now listening on: http://localhost:5000
2025-07-30 14:12:30.060 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-30 14:12:30.062 -04:00 [INF] Hosting environment: Development
2025-07-30 14:12:30.065 -04:00 [INF] Content root path: C:\Users\GraceZhou\Documents\AVIDLogistics\backend\AVIDLogistics.WebApi
2025-07-30 14:13:35.280 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/assets - null null
2025-07-30 14:13:35.326 -04:00 [WRN] Failed to determine the https port for redirect.
2025-07-30 14:13:35.459 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 14:13:35.482 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 14:13:35.706 -04:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 14:13:35.790 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 14:13:35.848 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 359.1137ms
2025-07-30 14:13:35.856 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 14:13:35.864 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/assets - 200 null application/json; charset=utf-8 587.2222ms
2025-07-30 14:14:01.773 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/facilities - null null
2025-07-30 14:14:01.793 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:14:01.813 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 14:14:01.825 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 14:14:01.833 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/facilities - 401 0 null 59.5474ms
2025-07-30 14:14:01.841 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/assets - null null
2025-07-30 14:14:01.851 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/facilities - null null
2025-07-30 14:14:01.866 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:14:01.876 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:14:01.884 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 14:14:01.889 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 14:14:01.889 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 14:14:01.906 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 14:14:01.912 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/facilities - 401 0 null 60.5878ms
2025-07-30 14:14:01.926 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/facilities - null null
2025-07-30 14:14:01.937 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:14:01.943 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 14:14:01.948 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 14:14:01.952 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/facilities - 401 0 null 25.9485ms
2025-07-30 14:14:01.965 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/facilities - null null
2025-07-30 14:14:01.976 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:14:01.980 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 14:14:01.981 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 14:14:01.982 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/facilities - 401 0 null 17.0712ms
2025-07-30 14:14:01.989 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 14:14:01.999 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 14:14:02.005 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 105.0116ms
2025-07-30 14:14:02.010 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/assets - null null
2025-07-30 14:14:02.011 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 14:14:02.019 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:14:02.023 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/assets - 200 null application/json; charset=utf-8 181.5409ms
2025-07-30 14:14:02.026 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 14:14:02.029 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 14:14:02.040 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 14:14:02.044 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 14:14:02.047 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 15.3273ms
2025-07-30 14:14:02.050 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 14:14:02.050 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/assets - null null
2025-07-30 14:14:02.052 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/assets - 200 null application/json; charset=utf-8 41.9931ms
2025-07-30 14:14:02.058 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:14:02.063 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 14:14:02.065 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 14:14:02.072 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 14:14:02.077 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 14:14:02.079 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 11.4808ms
2025-07-30 14:14:02.081 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 14:14:02.082 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/assets - null null
2025-07-30 14:14:02.084 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/assets - 200 null application/json; charset=utf-8 33.6219ms
2025-07-30 14:14:02.089 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:14:02.095 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 14:14:02.096 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 14:14:02.102 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 14:14:02.109 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 14:14:02.112 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 13.1954ms
2025-07-30 14:14:02.114 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 14:14:02.116 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/assets - 200 null application/json; charset=utf-8 34.4834ms
2025-07-30 14:15:08.302 -04:00 [WRN] No store type was specified for the decimal property 'Latitude' on entity type 'PollSite'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-30 14:15:08.361 -04:00 [WRN] No store type was specified for the decimal property 'Longitude' on entity type 'PollSite'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-30 14:15:09.001 -04:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-30 14:15:09.104 -04:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-07-30 14:15:09.117 -04:00 [INF] Database initialized successfully
2025-07-30 14:15:09.129 -04:00 [INF] AVID Logistics Warehouse Management API starting up...
2025-07-30 14:15:09.152 -04:00 [INF] User profile is available. Using 'C:\Users\GraceZhou\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-30 14:15:09.248 -04:00 [WRN] Overriding address(es) 'http://localhost:5166'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-07-30 14:15:09.268 -04:00 [INF] Now listening on: http://localhost:5000
2025-07-30 14:15:09.273 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-30 14:15:09.277 -04:00 [INF] Hosting environment: Development
2025-07-30 14:15:09.283 -04:00 [INF] Content root path: C:\Users\GraceZhou\Documents\AVIDLogistics\backend\AVIDLogistics.WebApi
2025-07-30 14:17:57.976 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/assets - null null
2025-07-30 14:17:57.988 -04:00 [WRN] Failed to determine the https port for redirect.
2025-07-30 14:17:58.177 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 14:17:58.267 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 14:17:58.513 -04:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 14:17:58.604 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 14:17:58.674 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 398.833ms
2025-07-30 14:17:58.725 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 14:17:58.739 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/assets - 200 null application/json; charset=utf-8 765.7603ms
2025-07-30 14:18:27.569 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/elections - null null
2025-07-30 14:18:27.569 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/auth/profile - null null
2025-07-30 14:18:27.595 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:18:27.600 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:18:27.612 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.ElectionsController.GetElections (AVIDLogistics.WebApi)'
2025-07-30 14:18:27.616 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AuthController.GetProfile (AVIDLogistics.WebApi)'
2025-07-30 14:18:27.647 -04:00 [INF] Route matched with {action = "GetElections", controller = "Elections"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetElections() on controller AVIDLogistics.WebApi.Controllers.ElectionsController (AVIDLogistics.WebApi).
2025-07-30 14:18:27.662 -04:00 [INF] Route matched with {action = "GetProfile", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller AVIDLogistics.WebApi.Controllers.AuthController (AVIDLogistics.WebApi).
2025-07-30 14:18:27.678 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 14:18:27.701 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AuthController.GetProfile (AVIDLogistics.WebApi) in 30.9332ms
2025-07-30 14:18:27.704 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/auth/profile - null null
2025-07-30 14:18:27.710 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AuthController.GetProfile (AVIDLogistics.WebApi)'
2025-07-30 14:18:27.720 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:18:27.729 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/auth/profile - 200 null application/json; charset=utf-8 159.1415ms
2025-07-30 14:18:27.731 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AuthController.GetProfile (AVIDLogistics.WebApi)'
2025-07-30 14:18:27.735 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/alerts/overdue-returns - null null
2025-07-30 14:18:27.735 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/alerts/missing-seals - null null
2025-07-30 14:18:27.746 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/alerts/maintenance-needed - null null
2025-07-30 14:18:27.750 -04:00 [INF] Route matched with {action = "GetProfile", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller AVIDLogistics.WebApi.Controllers.AuthController (AVIDLogistics.WebApi).
2025-07-30 14:18:27.767 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:18:27.814 -04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 14:18:27.800 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:18:27.794 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:18:27.819 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AuthController.GetProfile (AVIDLogistics.WebApi) in 8.653ms
2025-07-30 14:18:27.840 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|WarehouseStaff|Auditor)
2025-07-30 14:18:27.842 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|WarehouseStaff|Auditor)
2025-07-30 14:18:27.846 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|WarehouseStaff|Auditor)
2025-07-30 14:18:27.852 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AuthController.GetProfile (AVIDLogistics.WebApi)'
2025-07-30 14:18:27.870 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 14:18:27.870 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 14:18:27.876 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 14:18:27.883 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/auth/profile - 200 null application/json; charset=utf-8 179.2409ms
2025-07-30 14:18:27.887 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/alerts/maintenance-needed - 401 0 null 141.1662ms
2025-07-30 14:18:27.894 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/alerts/overdue-returns - 401 0 null 158.6148ms
2025-07-30 14:18:27.917 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/alerts/missing-seals - 401 0 null 181.1611ms
2025-07-30 14:18:27.952 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/alerts/maintenance-needed - null null
2025-07-30 14:18:27.990 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/alerts/overdue-returns - null null
2025-07-30 14:18:28.009 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/alerts/missing-seals - null null
2025-07-30 14:18:28.019 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:18:28.034 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:18:28.048 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:18:28.051 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|WarehouseStaff|Auditor)
2025-07-30 14:18:28.060 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|WarehouseStaff|Auditor)
2025-07-30 14:18:28.074 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 14:18:28.068 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 14:18:28.066 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|WarehouseStaff|Auditor)
2025-07-30 14:18:28.083 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/alerts/overdue-returns - 401 0 null 92.4594ms
2025-07-30 14:18:28.092 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/alerts/maintenance-needed - 401 0 null 140.1235ms
2025-07-30 14:18:28.097 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 14:18:28.138 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/alerts/missing-seals - 401 0 null 128.326ms
2025-07-30 14:18:28.272 -04:00 [ERR] Failed executing DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ElectionId], [e].[CreatedBy], [e].[CreatedDate], [e].[ElectionDate], [e].[ElectionType], [e].[ModifiedBy], [e].[ModifiedDate], [e].[Name], [e].[Status]
FROM [Elections] AS [e]
WHERE [e].[ElectionDate] > GETUTCDATE()
ORDER BY [e].[ElectionDate]
2025-07-30 14:18:28.322 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AVIDLogistics.Infrastructure.Data.WarehouseDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ElectionDate'.
Invalid column name 'CreatedBy'.
Invalid column name 'ElectionDate'.
Invalid column name 'ElectionType'.
Invalid column name 'ModifiedBy'.
Invalid column name 'Status'.
Invalid column name 'ElectionDate'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:5048f1d3-3495-4002-a6e4-85ee451ab27f
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ElectionDate'.
Invalid column name 'CreatedBy'.
Invalid column name 'ElectionDate'.
Invalid column name 'ElectionType'.
Invalid column name 'ModifiedBy'.
Invalid column name 'Status'.
Invalid column name 'ElectionDate'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:5048f1d3-3495-4002-a6e4-85ee451ab27f
Error Number:207,State:1,Class:16
2025-07-30 14:18:28.352 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 14:18:28.362 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.ElectionsController.GetElections (AVIDLogistics.WebApi) in 703.9984ms
2025-07-30 14:18:28.365 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/elections - null null
2025-07-30 14:18:28.369 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.ElectionsController.GetElections (AVIDLogistics.WebApi)'
2025-07-30 14:18:28.379 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:18:28.386 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/elections - 500 null application/json; charset=utf-8 816.4952ms
2025-07-30 14:18:28.388 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.ElectionsController.GetElections (AVIDLogistics.WebApi)'
2025-07-30 14:18:28.401 -04:00 [INF] Route matched with {action = "GetElections", controller = "Elections"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetElections() on controller AVIDLogistics.WebApi.Controllers.ElectionsController (AVIDLogistics.WebApi).
2025-07-30 14:18:28.431 -04:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[ElectionId], [e].[CreatedBy], [e].[CreatedDate], [e].[ElectionDate], [e].[ElectionType], [e].[ModifiedBy], [e].[ModifiedDate], [e].[Name], [e].[Status]
FROM [Elections] AS [e]
WHERE [e].[ElectionDate] > GETUTCDATE()
ORDER BY [e].[ElectionDate]
2025-07-30 14:18:28.452 -04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AVIDLogistics.Infrastructure.Data.WarehouseDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ElectionDate'.
Invalid column name 'CreatedBy'.
Invalid column name 'ElectionDate'.
Invalid column name 'ElectionType'.
Invalid column name 'ModifiedBy'.
Invalid column name 'Status'.
Invalid column name 'ElectionDate'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:5048f1d3-3495-4002-a6e4-85ee451ab27f
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'ElectionDate'.
Invalid column name 'CreatedBy'.
Invalid column name 'ElectionDate'.
Invalid column name 'ElectionType'.
Invalid column name 'ModifiedBy'.
Invalid column name 'Status'.
Invalid column name 'ElectionDate'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:5048f1d3-3495-4002-a6e4-85ee451ab27f
Error Number:207,State:1,Class:16
2025-07-30 14:18:28.490 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-30 14:18:28.498 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.ElectionsController.GetElections (AVIDLogistics.WebApi) in 85.0355ms
2025-07-30 14:18:28.508 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.ElectionsController.GetElections (AVIDLogistics.WebApi)'
2025-07-30 14:18:28.513 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/elections - 500 null application/json; charset=utf-8 148.0566ms
2025-07-30 14:18:29.465 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/facilities - null null
2025-07-30 14:18:29.481 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:18:29.489 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 14:18:29.494 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 14:18:29.502 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/facilities - 401 0 null 36.3437ms
2025-07-30 14:18:29.508 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/assets - null null
2025-07-30 14:18:29.524 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/facilities - null null
2025-07-30 14:18:29.539 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:18:29.557 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:18:29.559 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 14:18:29.564 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 14:18:29.573 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 14:18:29.576 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 14:18:29.596 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/facilities - 401 0 null 71.5207ms
2025-07-30 14:18:29.598 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 14:18:29.628 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 14:18:29.635 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 43.7898ms
2025-07-30 14:18:29.644 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/assets - null null
2025-07-30 14:18:29.645 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 14:18:29.660 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:18:29.664 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/assets - 200 null application/json; charset=utf-8 156.0091ms
2025-07-30 14:18:29.668 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 14:18:29.684 -04:00 [INF] Route matched with {action = "GetAssets", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssets(System.String, System.Nullable`1[System.Int32]) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 14:18:29.702 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AssetType], [a].[Barcode], [a].[Condition], [a].[CreatedDate], [a].[FacilityId], [a].[Location], [a].[ModifiedDate], [a].[RegisteredDate], [a].[RfidTag], [a].[SerialNumber], [a].[Status]
FROM [Assets] AS [a]
2025-07-30 14:18:29.716 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AVIDLogistics.Domain.Entities.Asset, AVIDLogistics.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-30 14:18:29.726 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi) in 32.0546ms
2025-07-30 14:18:29.733 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.GetAssets (AVIDLogistics.WebApi)'
2025-07-30 14:18:29.741 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/assets - 200 null application/json; charset=utf-8 96.2224ms
2025-07-30 14:18:32.964 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/facilities - null null
2025-07-30 14:18:32.977 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:18:32.980 -04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-30 14:18:32.983 -04:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-30 14:18:32.989 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/facilities - 401 0 null 25.1402ms
2025-07-30 14:18:42.287 -04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/assets - null null
2025-07-30 14:18:42.307 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:18:42.317 -04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5000/api/assets - 204 null null 29.7128ms
2025-07-30 14:18:42.332 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/assets - application/json 155
2025-07-30 14:18:42.339 -04:00 [INF] CORS policy execution successful.
2025-07-30 14:18:42.346 -04:00 [INF] Executing endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 14:18:42.358 -04:00 [INF] Route matched with {action = "CreateAsset", controller = "Assets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAsset(AVIDLogistics.WebApi.Controllers.CreateAssetDto) on controller AVIDLogistics.WebApi.Controllers.AssetsController (AVIDLogistics.WebApi).
2025-07-30 14:18:42.430 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-30 14:18:42.474 -04:00 [INF] Executed action AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi) in 105.2693ms
2025-07-30 14:18:42.481 -04:00 [INF] Executed endpoint 'AVIDLogistics.WebApi.Controllers.AssetsController.CreateAsset (AVIDLogistics.WebApi)'
2025-07-30 14:18:42.488 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/assets - 400 null application/problem+json; charset=utf-8 156.0893ms
